alias jenkins="JENKINS_URL='https://jonathanc:Love1024!@@build.lonelyplanet.com' nestor"
alias gs="git status"
alias beu="be unicorn"
alias bec="be cucumber"
alias ber="be rake"
alias rs="rails s"
alias reload="source ~/.zshrc"

alias k="kubectl"
alias ks="kubectl --kubeconfig ~/.kube/config.staging"
alias kq="kubectl --kubeconfig ~/.kube/config"
alias kp="kubectl --kubeconfig ~/.kube/config.prod"
alias pods="kubectl get pods"
alias pods-stage="kubectl get pods --kubeconfig ~/.kube/config.staging"
alias pods-prod="kubectl get pods --kubeconfig ~/.kube/config.prod"

alias dc="docker-compose"

function health-check {
    curl -sIXGET http://localhost:"${HOST_PORT}"/health-check | grep -q 'HTTP/1.1 200 OK'
}

function take {
    mkdir $1
    cd $1
}

function search-files {
    grep -re $1 ./ | cut -d: -f1
}
function perf {
    curl -o /dev/null  -s -w "%{time_connect} + %{time_starttransfer} = %{time_total}\n" "$1"
}

if [[ -x $(command -v docker-machine) ]]; then
  alias dm="docker-machine"

  function dmstart() {
    docker-machine start dockerhost; eval "$(docker-machine env dockerhost)" && echo "dockerhost ip: $(docker-machine ip dockerhost)"
  }

  function dmstop() {
    docker-machine stop dockerhost && echo "dockerhost vm stopped"
  }

  function dockerclean() {
    docker rm -v $(docker ps -a -q -f status=exited)
    docker rmi $(docker images -f "dangling=true" -q)
  }
fi
